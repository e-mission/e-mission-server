<ion-view view-title="Heatmap">
  <ion-content class="has-header padding">
    <div style="height: 40px; width: 100%; padding: 10px;"> <!-- visualization control -->
      <div class="metric-half">
        <div class="row">
            <div ng-class="countButtonClass()" ng-click="showCounts()">Counts</div>
            <div ng-class="stressButtonClass()" ng-click="showStress()">Stress</div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col col-25">
      <button class="button button-stable button-block row"
                ng-click="changeMode()">{{selectCtrl.modeString}}</button>
      </div>
      <div class="col col-66">
        <div class="row">
          <div class="col">
          <button class="button button-small" ng-disabled="true" style="text-align:right">From:</button>
          </div><div class="col">
          <input type="text" placeholder="year" ng-model="selectCtrl.fromDate.year">
          </div><div class="col">
          <input type="text" placeholder="month" ng-model="selectCtrl.fromDate.month">
          </div><div class="col">
          <input type="text" placeholder="day" ng-model="selectCtrl.fromDate.day">
          </div><div class="col">
          <button class="button button-outline button-dark button-small"
                  ng-click="changeFromWeekday()">{{selectCtrl.fromDateWeekdayString}}</button>
          </div><div class="col">
          <input type="text" placeholder="hour" ng-model="selectCtrl.fromDate.hour">
          </div>
        </div>
        <div class="row">
          <div class="col">
          <button class="button button-small" ng-disabled="true" class="col" style="text-align:right">&nbsp;&nbsp;&nbsp;To:</button>
          </div><div class="col">
          <input type="text" placeholder="year" ng-model="selectCtrl.toDate.year">
          </div><div class="col">
          <input type="text" placeholder="month" ng-model="selectCtrl.toDate.month">
          </div><div class="col">
          <input type="text" placeholder="day" ng-model="selectCtrl.toDate.day">
          </div><div class="col">
          <button class="button button-outline button-dark button-small"
                  ng-click="changeToWeekday()">{{selectCtrl.toDateWeekdayString}}</button>
          </div><div class="col">
          <input type="text" placeholder="hour" ng-model="selectCtrl.toDate.hour">
          </div> <!-- col-->
        </div> <!-- row -->
      </div> <!-- col -->
      <div class="col col-10">
        <button class="button button-assertive"
                ng-click="getHeatmaps()">Get!</button>
      </div>

      <!--
      <em-local-date date="selectCtrl.fromDate"></em-local-date>
      <em-local-date date="selectCtrl.toDate"></em-local-date>
      -->
      <!--
        <button style="" class="button button-stable button-block  icon ion-checkmark">Valid</button>
      -->
    </div> <!-- row -->
    <leaflet id='heatmap' width="100%" height="480px" defaults="mapCtrl.defaults" data-tap-disabled="true"></leaflet>
  </ion-content>
</ion-view>
