<!doctype html>

<style>

  .alignleft {
    float: left;
    font-weight: bold;
  }

  .alignright {
    float: right;
  }
=

</style>

<html ng-app="e-mission-leaderboard">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title>Leaderboard</title>
    <script src="clients/choice/front/ionic.bundle.js" charset="utf-8"></script>
    <script src="clients/leaderboard/front/client.leaderboard.display.js" charset="utf-8"></script>

    <link rel="stylesheet" href="clients/choice/front/ionic.min.css">
  </head>
  <body ng-controller="RootCtrl">
    <div class="list">
        <body onLoad='showscores()'></body>
    </div>
    <script>
        var currScore = {{currScore}};
        var prevScore = {{prevScore}};
        var otherCurrScoreList = {{otherCurrScoreList}}
        function showscores() {
          var listContainer = document.createElement("div");
          document.getElementsByTagName("body")[0].appendChild(listContainer);
          var listElement = document.createElement("ul");
          listElement.className = "item";
          listContainer.appendChild(listElement);
          var numItems = otherCurrScoreList.length;
          var prev = otherCurrScoreList[numItems-1];
          var insert =  0;
          var user = 1;
          for (var i = numItems; i > 0; i--){
            var listItemContainer = document.createElement("li");
            listItemContainer.className = "item";
            listItemContainer.style.backgroundColor = "#d3d3d3";
            var listItem = document.createElement("i");
            listElement.appendChild(listItemContainer);
            listItem.innerHTML = otherCurrScoreList[i-1];
            listItem.style.color = "#545454";
            listItem.style.cssFloat = "right";
            if((currScore >= otherCurrScoreList[i-1]) && insert < 1){
              var scoreContainer = document.createElement("li");
              scoreContainer.className = "item";
              scoreContainer.style.backgroundColor="#7ebd96";
              listElement.appendChild(scoreContainer);
              var yourScore = document.createElement("i");
              yourScore.innerHTML = currScore;
              yourScore.style.fontWeight = "900";
              yourScore.style.cssFloat = "right";
              var youName = document.createElement("i");
              youName.style.fontWeight = "900";
              youName.style.cssFloat = "left";
              youName.innerHTML = "You";
              scoreContainer.appendChild(youName);
              scoreContainer.appendChild(yourScore);
              insert++;
          }
          prev = otherCurrScoreList[i-1];
          var anon = document.createElement("i");
          anon.style.color = "#545454";
          anon.style.cssFloat = "left";
          anon.innerHTML = "User" + user;
          user ++;
          listItemContainer.appendChild(anon);
          listItemContainer.appendChild(listItem);
          if (i == 1 && insert < 1){
            var scoreContainer = document.createElement("li");
            scoreContainer.className="item";
            scoreContainer.style.backgroundColor="#7ebd96";
            listElement.appendChild(scoreContainer);
            var yourScore = document.createElement("i");
            yourScore.innerHTML = currScore;
            yourScore.style.fontWeight = "900";
            yourScore.style.cssFloat = "right";
            var youName = document.createElement("i");
            youName.style.fontWeight = "900";
            youName.style.cssFloat = "left";
            youName.innerHTML = "You";
            scoreContainer.appendChild(youName);
            scoreContainer.appendChild(yourScore);
            }
          }
        }
     </script>
  </body>
</html>
